import{r as n,H as l}from"./index-C4yNIdvx.js";const a="admin_api_key",u=["chat_admin_key","clips_admin_key"];function g(){try{if(localStorage.getItem(a))return;for(const o of u){const t=localStorage.getItem(o);if(t){localStorage.setItem(a,t),localStorage.removeItem(o);return}}}catch{}}function d(){n.useState(()=>g());const r=l(),o=n.useMemo(()=>{const e=new URLSearchParams(r.search);return e.has("admin")||e.get("edit")==="1"},[r.search]),[t,c]=n.useState(()=>{try{return localStorage.getItem(a)||""}catch{return""}}),s=o||!!t,i=s&&!!t,m=n.useCallback(e=>{try{e?localStorage.setItem(a,e):localStorage.removeItem(a)}catch{}c(e||"")},[]);return{adminKey:t,isAdmin:i,showAdmin:s,setAdminKey:m}}export{d as u};
