const g=[{key:"TOPICS",label:"Topics",cls:"topics",tags:!0},{key:"DRAMA",label:"Drama",cls:"drama"},{key:"BANS",label:"Bans",cls:"bans"},{key:"HIGHLIGHTS",label:"Highlights",cls:"highlights"},{key:"SPIKES",label:"Spikes",cls:"spikes"},{key:"RECAP",label:"Recap",cls:"recap"},{key:"WINNER",label:"Winner",cls:"winner",stat:!0},{key:"LOSER",label:"Loser",cls:"loser",stat:!0},{key:"GRINDER",label:"Grinder",cls:"grinder",stat:!0},{key:"HOTSTREAK",label:"Hot",cls:"hotstreak",stat:!0},{key:"COLDSTREAK",label:"Cold",cls:"coldstreak",stat:!0}],m=[...g.map(s=>s.key),"MENTIONS"],h=new RegExp(`^(${m.join("|")})\\s*:\\s*`,"gm"),d=s=>{const e=[],t=[...s.matchAll(h)];for(let n=0;n<t.length;n++){const a=t[n],l=a.index+a[0].length,o=n+1<t.length?t[n+1].index:s.length,c=s.slice(l,o).trim();c&&e.push({key:a[1],content:c})}return e},b=s=>{const e=s.find(n=>n.key==="MENTIONS");if(!e)return new Map;const t=new Map;for(const n of e.content.split(",")){const a=n.trim();if(!a)continue;const l=a.split("#")[0];l&&t.set(l,a)}return t},f=s=>{const e=s.match(/^(.+?#\d+)(?:\[(\w+)\])?\s+(.+?)\s+\((\d+)W-(\d+)L\)\s*([WL]*)$/);return e?{battleTag:e[1],name:e[1].split("#")[0],race:e[2]||null,headline:e[3],wins:parseInt(e[4]),losses:parseInt(e[5]),form:e[6]||""}:null},u=(s,e)=>{const t=new Set,n=s.toLowerCase();for(const[a,l]of e){if(a.length<2)continue;const o=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(new RegExp(`\\b${o}\\b`,"i").test(s))t.add(l);else if(a.length>=7){const p=a.toLowerCase();for(const r of n.split(/\W+/))if(r.length>=6&&p.startsWith(r)){t.add(l);break}}}return[...t]},i=/"([^"]+)"/g,S=s=>{const e=[];let t=s;for(const n of s.matchAll(i))e.push(n[1]);return e.length>0&&(t=s.replace(i,"").replace(/\btold him to\s*and\b/gi,"").replace(/\bwhere \w+ told him\s*and\b/gi,"").replace(/\bcalling him\s*$/gi,"").replace(/\bcalling him\s+and\b/gi,"").replace(/'\s+of\b/g,"'s").replace(/\s*[â€”:,]\s*$/g,"").replace(/\s{2,}/g," ").trim()),{summary:t,quotes:e}};export{g as D,b as a,f as b,u as e,d as p,S as s};
