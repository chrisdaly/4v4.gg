import{r as a,X as f,k as y,j as m}from"./index-6R-bl_KJ.js";import{G as w}from"./GameCard-6sJTQuHU.js";/* empty css                *//* empty css                 */import"./formatters-C0HfR3L6.js";const E=()=>{const[d,s]=a.useState(!1),[n,i]=a.useState(null),[r,p]=a.useState(null),u=()=>{const t=new URL(window.location.href).pathname.split("/").slice(-1)[0];return decodeURIComponent(t)},h=()=>new URLSearchParams(window.location.search).get("layout")||"vertical";a.useEffect(()=>{document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"},[]),a.useEffect(()=>{const e=u();p(e),c(e);const t=setInterval(()=>c(e),3e4);return()=>clearInterval(t)},[]);const c=async e=>{try{const t=`https://website-backend.w3champions.com/api/matches?playerId=${encodeURIComponent(e)}&offset=0&gameMode=4&season=${f}&gateway=${y}&pageSize=5`,l=await fetch(t);if(!l.ok){console.error("Failed to fetch matches"),s(!0);return}const o=await l.json();if(!o.matches||o.matches.length===0){s(!0);return}const g=o.matches[0];i(g),s(!0)}catch(t){console.error("Error loading last game data:",t),s(!0)}};return m.jsx("div",{style:{background:"transparent",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:d&&n&&r&&m.jsx(w,{game:n,playerBattleTag:r,overlay:!0,layout:h(),size:"expanded"})})};export{E as default};
