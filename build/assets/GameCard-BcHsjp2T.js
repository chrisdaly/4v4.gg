import{j as s,k as d,L as gs}from"./index-lAr_aYWz.js";/* empty css                 */import{g as xs,a as js,f as Ns,b as ps}from"./formatters-C0HfR3L6.js";const us=({game:t,status:rs,size:W="default",playerBattleTag:I,showTeams:k,showDuration:S=!0,showMap:N=!0,linkTo:is,overlay:u=!1,layout:E="horizontal",className:ms=""})=>{var U,z,P,q,H,J,K,Q,X,Y,Z,_,D,B,ss,as,es,cs,ls;if(!t)return null;const y=t.match||t,T=y.mapName||t.mapName,j=y.teams||t.teams||[],m=N?xs(T):null,x=(T==null?void 0:T.replace(/^\(\d\)\s*/,""))||"Unknown",L=I==null?void 0:I.toLowerCase();let w=null,f=null;const ds=!I;if(L&&j.length>0)for(let a=0;a<j.length;a++){const l=(U=j[a].players)==null?void 0:U.find(o=>{var ns;return((ns=o.battleTag)==null?void 0:ns.toLowerCase())===L});if(l){w=a,f=l;break}}const p=j[0],R=j[1];((P=(z=p==null?void 0:p.players)==null?void 0:z[0])==null?void 0:P.won)===!0||((H=(q=p==null?void 0:p.players)==null?void 0:q[0])==null||H.won);let e=rs;e||(t.startTime&&!t.endTime&&!y.endTime?e="live":f?e=f.won===!0||f.won===1?"won":"lost":e="finished");const n=f?(f.currentMmr||0)-(f.oldMmr||0):t.mmrChange||0,r=w!==null?j[w]:j[0],i=w!==null?j[w===0?1:0]:j[1],C=r!=null&&r.players?Math.round(r.players.reduce((a,c)=>a+(c.oldMmr||0),0)/r.players.length):null,V=i!=null&&i.players?Math.round(i.players.reduce((a,c)=>a+(c.oldMmr||0),0)/i.players.length):null,ts=y.durationInSeconds||t.durationInSeconds||t.duration,h=js(ts),g=e==="live"?Ns(t.startTime||y.startTime):null,F=y.endTime||t.endTime,b=F?ps(F):null,O=y.id||t.id,$=is||(O?`/match/${O}`:null),v=k!==void 0?k:!0,M=["game-card",`gc-${W}`,e&&`gc-${e}`,u&&"gc-overlay",u&&`gc-layout-${E}`,ms].filter(Boolean).join(" "),A=$&&!u?gs:"div",G=$&&!u?{to:$,className:M}:{className:M};if(u)return E==="vertical"?s.jsxs("div",{className:M,children:[s.jsx("div",{className:"gc-label",children:e==="live"?"LIVE GAME":"LAST GAME"}),s.jsx("div",{className:"gc-result-row",children:e==="live"?s.jsxs("span",{className:"gc-live-text",children:[s.jsx("span",{className:"gc-live-dot"}),"LIVE"]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:`gc-result-text gc-result-${e}`,children:e==="won"?"WIN":"LOSS"}),s.jsxs("span",{className:`gc-mmr gc-mmr-large ${n>=0?"positive":"negative"}`,children:[n>=0?"+":"",n]})]})}),s.jsxs("div",{className:"gc-meta",children:[s.jsx("span",{className:"gc-map-name",children:x}),S&&(h||g)&&s.jsx("span",{className:"gc-duration",children:g||h})]}),N&&m&&s.jsx("div",{className:"gc-map gc-map-vertical",children:s.jsx("img",{src:m,alt:x})}),v&&r&&i&&s.jsxs("div",{className:"gc-teams-row",children:[s.jsx("div",{className:"gc-team gc-team-allies",children:(J=r.players)==null?void 0:J.map((a,c)=>{var l;return s.jsxs("div",{className:`gc-player ${((l=a.battleTag)==null?void 0:l.toLowerCase())===L?"gc-player-me":""}`,children:[s.jsx("img",{src:d[a.race],alt:"",className:"gc-race"}),s.jsx("span",{className:"gc-name",children:a.name})]},c)})}),s.jsx("div",{className:"gc-vs",children:"vs"}),s.jsx("div",{className:"gc-team gc-team-opponents",children:(K=i.players)==null?void 0:K.map((a,c)=>s.jsxs("div",{className:"gc-player",children:[s.jsx("img",{src:d[a.race],alt:"",className:"gc-race"}),s.jsx("span",{className:"gc-name",children:a.name})]},c))})]})]}):E==="compact"?s.jsxs("div",{className:M,children:[N&&m&&s.jsxs("div",{className:"gc-map gc-map-compact",children:[s.jsx("img",{src:m,alt:x}),s.jsx("div",{className:`gc-result-overlay gc-result-${e}`,children:e==="live"?"LIVE":e==="won"?"W":"L"}),e!=="live"&&s.jsxs("div",{className:`gc-mmr-overlay ${n>=0?"positive":"negative"}`,children:[n>=0?"+":"",n]})]}),v&&r&&i&&s.jsxs("div",{className:"gc-teams-compact",children:[s.jsx("div",{className:"gc-team-row",children:(Q=r.players)==null?void 0:Q.map((a,c)=>s.jsx("img",{src:d[a.race],alt:"",className:"gc-race"},c))}),s.jsx("span",{className:"gc-vs-small",children:"v"}),s.jsx("div",{className:"gc-team-row",children:(X=i.players)==null?void 0:X.map((a,c)=>s.jsx("img",{src:d[a.race],alt:"",className:"gc-race"},c))})]})]}):E==="wide"?s.jsxs("div",{className:M,children:[N&&m&&s.jsx("div",{className:"gc-map gc-map-wide",children:s.jsx("img",{src:m,alt:x})}),s.jsx("div",{className:`gc-result gc-result-${e}`,children:e==="live"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"gc-live-dot"}),"LIVE"]}):e==="won"?"WIN":"LOSS"}),e!=="live"&&s.jsxs("div",{className:`gc-mmr ${n>=0?"positive":"negative"}`,children:[n>=0?"+":"",n]}),v&&r&&s.jsx("div",{className:"gc-team",children:(Y=r.players)==null?void 0:Y.map((a,c)=>s.jsxs("div",{className:"gc-player-inline",children:[s.jsx("img",{src:d[a.race],alt:"",className:"gc-race"}),s.jsx("span",{children:a.name})]},c))}),s.jsx("span",{className:"gc-vs",children:"vs"}),v&&i&&s.jsx("div",{className:"gc-team gc-team-opponents",children:(Z=i.players)==null?void 0:Z.map((a,c)=>s.jsxs("div",{className:"gc-player-inline",children:[s.jsx("img",{src:d[a.race],alt:"",className:"gc-race"}),s.jsx("span",{children:a.name})]},c))})]}):s.jsxs("div",{className:M,children:[N&&m&&s.jsxs("div",{className:"gc-map gc-map-horizontal",children:[s.jsx("img",{src:m,alt:x}),s.jsx("div",{className:`gc-result-badge gc-result-${e}`,children:e==="live"?"LIVE":e==="won"?"WIN":"LOSS"})]}),s.jsxs("div",{className:"gc-info",children:[s.jsxs("div",{className:"gc-header",children:[s.jsx("span",{className:"gc-label",children:e==="live"?"LIVE GAME":"LAST GAME"}),e!=="live"&&s.jsxs("span",{className:`gc-mmr gc-mmr-large ${n>=0?"positive":"negative"}`,children:[n>=0?"+":"",n]}),e==="live"&&g&&s.jsx("span",{className:"gc-elapsed",children:g})]}),v&&r&&i&&s.jsxs("div",{className:"gc-teams",children:[s.jsx("div",{className:"gc-team gc-team-allies",children:(_=r.players)==null?void 0:_.map((a,c)=>{var l;return s.jsxs("div",{className:`gc-player ${((l=a.battleTag)==null?void 0:l.toLowerCase())===L?"gc-player-me":""}`,children:[s.jsx("img",{src:d[a.race],alt:"",className:"gc-race"}),s.jsx("span",{className:"gc-name",children:a.name})]},c)})}),s.jsx("div",{className:"gc-vs",children:"vs"}),s.jsx("div",{className:"gc-team gc-team-opponents",children:(D=i.players)==null?void 0:D.map((a,c)=>s.jsxs("div",{className:"gc-player",children:[s.jsx("img",{src:d[a.race],alt:"",className:"gc-race"}),s.jsx("span",{className:"gc-name",children:a.name})]},c))})]})]})]});if(W==="default"){if(ds){const c=Math.round((C+V)/2);return s.jsxs(A,{...G,children:[N&&m&&s.jsx("div",{className:"gc-map",children:s.jsx("img",{src:m,alt:x})}),s.jsxs("div",{className:"gc-content",children:[s.jsxs("div",{className:"gc-top",children:[s.jsx("div",{className:"gc-result",children:c>0&&s.jsxs("span",{className:"gc-avg-mmr",children:[c," ",s.jsx("span",{className:"gc-mmr-label",children:"MMR"})]})}),s.jsxs("div",{className:"gc-meta",children:[e==="live"&&s.jsxs("span",{className:"gc-live-badge",children:[s.jsx("span",{className:"gc-live-dot"}),s.jsx("span",{className:"gc-live-text",children:"LIVE"}),g&&s.jsx("span",{className:"gc-elapsed",children:g})]}),s.jsx("span",{className:"gc-map-name",children:x}),e!=="live"&&S&&h&&s.jsx("span",{className:"gc-duration",children:h}),e!=="live"&&b&&s.jsx("span",{className:"gc-time",children:b})]})]}),v&&p&&R&&s.jsxs("div",{className:"gc-teams",children:[s.jsx("div",{className:"gc-team",children:(B=p.players)==null?void 0:B.map((l,o)=>s.jsxs("div",{className:"gc-player",children:[s.jsx("img",{src:d[l.race],alt:"",className:"gc-race"}),s.jsx("span",{className:"gc-name",children:l.name})]},o))}),s.jsx("div",{className:"gc-vs",children:"vs"}),s.jsx("div",{className:"gc-team",children:(ss=R.players)==null?void 0:ss.map((l,o)=>s.jsxs("div",{className:"gc-player",children:[s.jsx("img",{src:d[l.race],alt:"",className:"gc-race"}),s.jsx("span",{className:"gc-name",children:l.name})]},o))})]})]})]})}const a=Math.round((C+V)/2);return s.jsxs(A,{...G,children:[N&&m&&s.jsx("div",{className:"gc-map",children:s.jsx("img",{src:m,alt:x})}),s.jsxs("div",{className:"gc-content",children:[s.jsxs("div",{className:"gc-top",children:[s.jsx("div",{className:"gc-result",children:e==="live"?s.jsx(s.Fragment,{children:a>0&&s.jsxs("span",{className:"gc-avg-mmr",children:[a," ",s.jsx("span",{className:"gc-mmr-label",children:"MMR"})]})}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:`gc-badge gc-badge-${e}`,children:e==="won"?"WIN":"LOSS"}),s.jsxs("span",{className:`gc-mmr ${n>=0?"positive":"negative"}`,children:[n>=0?"+":"",n]}),a>0&&s.jsxs("span",{className:"gc-avg-mmr",children:[a," ",s.jsx("span",{className:"gc-mmr-label",children:"MMR"})]})]})}),s.jsxs("div",{className:"gc-meta",children:[e==="live"&&s.jsxs("span",{className:"gc-live-badge",children:[s.jsx("span",{className:"gc-live-dot"}),s.jsx("span",{className:"gc-live-text",children:"LIVE"}),g&&s.jsx("span",{className:"gc-elapsed",children:g})]}),s.jsx("span",{className:"gc-map-name",children:x}),e!=="live"&&S&&h&&s.jsx("span",{className:"gc-duration",children:h}),b&&s.jsx("span",{className:"gc-time",children:b})]})]}),v&&r&&i&&s.jsxs("div",{className:"gc-teams",children:[s.jsx("div",{className:"gc-team gc-team-allies",children:(as=r.players)==null?void 0:as.map((c,l)=>{var o;return s.jsxs("div",{className:`gc-player ${((o=c.battleTag)==null?void 0:o.toLowerCase())===L?"gc-player-me":""}`,children:[s.jsx("img",{src:d[c.race],alt:"",className:"gc-race"}),s.jsx("span",{className:"gc-name",children:c.name})]},l)})}),s.jsx("div",{className:"gc-vs",children:"vs"}),s.jsx("div",{className:"gc-team gc-team-opponents",children:(es=i.players)==null?void 0:es.map((c,l)=>s.jsxs("div",{className:"gc-player",children:[s.jsx("img",{src:d[c.race],alt:"",className:"gc-race"}),s.jsx("span",{className:"gc-name",children:c.name})]},l))})]})]}),$&&!u&&s.jsx("div",{className:"gc-arrow",children:"→"})]})}return s.jsxs(A,{...G,children:[N&&m&&s.jsx("div",{className:"gc-map gc-map-expanded",children:s.jsx("img",{src:m,alt:x})}),s.jsxs("div",{className:"gc-content gc-content-expanded",children:[s.jsxs("div",{className:"gc-top",children:[s.jsx("div",{className:"gc-result",children:e==="live"?s.jsxs("span",{className:"gc-live-badge gc-live-expanded",children:[s.jsx("span",{className:"gc-live-dot"}),s.jsx("span",{className:"gc-live-text",children:"LIVE"}),g&&s.jsx("span",{className:"gc-duration",children:g})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:`gc-badge gc-badge-large gc-badge-${e}`,children:e==="won"?"WIN":"LOSS"}),s.jsxs("span",{className:`gc-mmr gc-mmr-large ${n>=0?"positive":"negative"}`,children:[n>=0?"+":"",n]})]})}),s.jsxs("div",{className:"gc-meta gc-meta-expanded",children:[s.jsx("span",{className:"gc-map-name",children:x}),S&&(h||g)&&s.jsx("span",{className:"gc-duration",children:g||h}),b&&s.jsx("span",{className:"gc-time",children:b})]})]}),v&&r&&i&&s.jsxs("div",{className:"gc-teams gc-teams-expanded",children:[s.jsxs("div",{className:"gc-team-block gc-team-allies",children:[e==="live"&&C&&s.jsxs("div",{className:"gc-team-mmr",children:[C," MMR"]}),s.jsx("div",{className:"gc-team-players",children:(cs=r.players)==null?void 0:cs.map((a,c)=>{var l;return s.jsxs("div",{className:`gc-player ${((l=a.battleTag)==null?void 0:l.toLowerCase())===L?"gc-player-me":""}`,children:[s.jsx("img",{src:d[a.race],alt:"",className:"gc-race"}),s.jsx("span",{className:"gc-name",children:a.name})]},c)})})]}),s.jsx("div",{className:"gc-vs",children:"vs"}),s.jsxs("div",{className:"gc-team-block gc-team-opponents",children:[e==="live"&&V&&s.jsxs("div",{className:"gc-team-mmr",children:[V," MMR"]}),s.jsx("div",{className:"gc-team-players",children:(ls=i.players)==null?void 0:ls.map((a,c)=>s.jsxs("div",{className:"gc-player",children:[s.jsx("img",{src:d[a.race],alt:"",className:"gc-race"}),s.jsx("span",{className:"gc-name",children:a.name})]},c))})]})]})]}),$&&!u&&s.jsx("div",{className:"gc-arrow",children:"→"})]})};export{us as G};
